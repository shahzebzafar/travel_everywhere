{% extends 'traveleverywhere/base.html' %}

{% block title_block %}
	TravelEverywhere
{% endblock %}

{% block body_block %}
<div class="row">
    {% if blog %}
        <div class="col-md-10">
            <h1 class="text-center font-italic blog-title">{{ blog.title }}</h1>
            <div class="blog-body">
                <p>{{ blog.body|linebreaks }}</p>
                
            </div>
        </div>
        <div class="col-md-2">
            <div class="float-sm-right link-button">
                {% if user.is_authenticated %}
                    {% if blog.user == user %}
                        <a role="button" class="btn btn-primary" href="{% url 'traveleverywhere:add_image' blog.slug %}">Add Image</a><br/>
                    {% endif %}
                {% endif %}
            </div>
        </div>
        <div class="w-100"></div>
        <div class="col-5">
            <div class="like-user-blog">
                <div>
                    <strong id="like_count">{{ likes }}</strong> likes
                    {% if user.is_authenticated %}
                        <button id="like_btn" data-blogid="{{ blog.id }}" 
                            class="btn btn-primary btn-sm {% if liked_bool %} disabled {% endif %}" 
                            type="button">
                            Like Blog
                        </button>
                    {% endif %}
                </div>
                <p>Creator: {{ blog.user }}</p>
            </div>
        </div>
        <div class="col-5">
            <div class="blog-attr float-sm-right">
                <p>{{ blog.publish_date }}</p>
                <p>{{ blog.location_country }}</p>
                <p>{{ blog.location_city }}</p>
                <p>{{ blog.location_place }}</p>
            </div>
        </div>
        <div class="w-100"></div>
        <div class="col-md-10">
            {% if images %}
                <ul>
                    {% for image in images %}
                        <img class="img-fluid rounded mx-auto d-block" src="{{ image.image.url }}" />
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
    {% else %}
        The specified blog does not exist.
    {% endif %}
</div>
{% endblock %}