{% extends 'traveleverywhere/base.html' %}

{% block title_block %}
	Travel - TravelEverywhere
{% endblock %}

	
{% block body_block %}
<div class="container">
	<div class="row">
		<div class="col-md-4">
			{% if airlines %}
				<p>Top Airlines</p>
				<table id="airline" class="table table-striped table-bordered" style="width:100%">
					<thead>
						<tr>
							<th>Airline</th>
							<th>Rating</th>
							{% if user.is_authenticated %}
								<th>Like</th>
								<th>Dislike</th>
							{% endif %}
						</tr>
					</thead>
					<tbody>
						{% for airline in airlines %}
							<tr>
								<td><a href="{{ airline.link }}">{{airline.name}}</a></td>
								<td id="rating1"></td>
								<script>document.getElementById("rating1").innerHTML = computeRating(airline.likes, airline.dislikes)</script>
								{% if user.is_authenticated %}
									<td>
										<strong id="like_count">{{ airline.likes }}</strong> likes
										<button id="like" data-airlineid="{{ airline.id }}" data-airlinename="{{ airline.name }}" class="btn btn-primary btn-sm" type="button">
											<span data-feather="thumbs-up"></span>
											Like
										</button>
									</td>
									<td>2</td>
								{% endif %}
							</tr>
						{% endfor %}
					</tbody>
				</table>
			{% else %}
				<strong>There are no airlines to show.</strong>
			{% endif %}
		</div>
		<div class="col-md-4">
			{% if agencies %}
				<p>Top Agencies</p>
				<table id="agency" class="table table-striped table-bordered" style="width:100%">
					<thead>
						<tr>
							<th>Agency</th>
							<th>Rating</th>
							{% if user.is_authenticated %}
								<th>Like</th>
								<th>Dislike</th>
							{% endif %}
						</tr>
					</thead>
					<tbody>
						{% for agency in agencies %}
							<tr>
								<td><a href="{{ agency.link }}">{{agency.name}}</a></td>
								<td id="rating2"></td>
								<script>document.getElementById("rating2").innerHTML = computeRating(agency.likes, agency.dislikes)</script>
								{% if user.is_authenticated %}
									<td></td>
									<td></td>
								{% endif %}
							</tr>
						{% endfor %}
					</tbody>
				</table>
			{% else %}
				<strong>There are no agencies to show.</strong>
			{% endif %}
		</div>
		<div class="col-md-4">
			{% if websites %}
				<p>Top Booking websites</p>
				<table id="website" class="table table-striped table-bordered" style="width:100%">
					<thead>
						<tr>
							<th>Website</th>
							<th>Rating</th>
							{% if user.is_authenticated %}
								<th>Like</th>
								<th>Dislike</th>
							{% endif %}
						</tr>
					</thead>
					<tbody>
						{% for website in websites %}
							<tr>
								<td><a href="{{ website.link }}">{{website.name}}</a></td>
								<td id="rating3"></td>
								<script>document.getElementById("rating3").innerHTML = computeRating(website.likes, website.dislikes)</script>
								{% if user.is_authenticated %}
									<td></td>
									<td></td>
								{% endif %}
							</tr>
						{% endfor %}
					</tbody>
				</table>
			{% else %}
				<strong>There are no websites to show.</strong>
			{% endif %}
		</div>
	</div>
</div>
{% endblock %}